<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>My Scorer - Archery App</title>
  <link rel="stylesheet" href="style.css" />
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
  <div class="container" role="main">
    <!-- Login Screen -->
    <div id="loginPage" class="screen active">
      <h1>
        <span class="emoji" aria-hidden="true">üèπ</span>
        My Scorer
        <span class="emoji" aria-hidden="true">üèπ</span>
      </h1>
      <form id="signupForm" autocomplete="off">
        <div class="form-group">
          <label for="username">Name:</label>
          <input type="text" id="username" placeholder="Enter name" />
        </div>
        <div class="form-group">
          <label for="email">Email:</label>
          <input type="email" id="email" placeholder="Email Address" />
        </div>
        <div class="form-group">
          <label for="password">Password:</label>
          <input type="password" id="password" placeholder="Password" />
        </div>
        <div class="form-group">
          <label for="role">Role:</label>
          <select id="role">
            <option value="archer">Archer</option>
            <option value="coach">Coach</option>
            <option value="judge">Judge</option>
          </select>
        </div>
        <button id="signupBtn" type="button">Sign Up</button>
        <button id="loginBtn" type="button">Login</button>
        <div id="loginMessage" class="message"></div>
      </form>
    </div>

    <!-- Menu Screen -->
    <div id="menuScreen" class="screen">
      <h1>üèπ My Scorer üèπ</h1>
      <p id="greeting" style="font-size:1rem; margin-bottom: 25px;"></p>
      <button id="menuStartBtn">Start Session</button>
      <button id="menuHistoryBtn">My History</button>
      <button id="menuLogoutBtn">Logout</button>
      <button id="menuToggleBtn">Toggle Theme</button>
    </div>

    <!-- Coach Dashboard -->
    <div id="coachDashboard" class="screen">
      <h2>Coach Dashboard</h2>
      <div id="archerListContainer">
        <h3>Archers</h3>
        <ul id="archerList" style="list-style:none; padding-left:0;"></ul>
      </div>
      <div id="archerSessionsContainer" style="margin-top:20px;">
        <h3>Sessions for <span id="selectedArcherName">Select an archer</span></h3>
        <div id="archerSessionList"></div>
      </div>
      <div id="sessionResultContainer" style="margin-top:20px; display:none;">
        <h3>Session Details</h3>
        <div id="sessionResultSummary"></div>
        <div id="sessionResultTable"></div>
        <canvas id="sessionResultChart" width="400" height="200"></canvas>
        <button id="sessionResultCloseBtn">Close</button>
      </div>
      <button id="coachBackBtn" style="margin-top:20px;">Back to Menu</button>
    </div>

    <!-- Session Setup Screen -->
    <div id="setup" class="screen">
      <h2>Session Setup</h2>
      <label for="bowStyle">Bow Style:</label>
      <select id="bowStyle"></select>

      <label for="distance">Distance (m):</label>
      <select id="distance"></select>

      <label for="targetFace">Target Face:</label>
      <select id="targetFace"></select>

      <label for="arrowsPerEnd">Arrows per End:</label>
      <input type="number" id="arrowsPerEnd" value="6" min="1" max="12" />

      <label for="endsCount">Number of Ends:</label>
      <input type="number" id="endsCount" value="6" min="1" max="30" />

      <button id="startSessionBtn">Start Session</button>
      <button id="viewHistoryBtn">View History</button>
      <button id="logoutBtn">Logout</button>
    </div>

    <!-- Scoring Screen -->
    <div id="scoringArea" class="screen">
      <h2>End <span id="currentEnd">1</span></h2>
      <canvas id="target" width="300" height="300"></canvas>
      <p>Tap target to score</p>
      <div id="endScores"></div>
      <div id="endTotal">Total: 0</div>
      <button id="undoBtn">Undo Last Arrow</button>
      <button id="nextEndBtn">Next</button>
      <button id="endSessionBtn" style="display:none;">End Session</button>
    </div>

    <!-- Session Results Screen -->
    <div id="results" class="screen">
      <h2>Session Results</h2>
      <div id="sessionSummary"></div>
      <div id="scoreTable"></div>
      <canvas id="scoreChart" width="400" height="200" style="margin-top: 20px;"></canvas>
      <button id="newSessionBtn">New Session</button>
    </div>

    <!-- History Screen -->
    <div id="historyScreen" class="screen">
      <h2>Session History</h2>
      <div id="historyTable"></div>
      <button id="backToMenuBtn">Back to Menu</button>
    </div>

  </div>

  <!-- Script Tags -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script type="module" src="script.js"></script>
</body>
</html>
